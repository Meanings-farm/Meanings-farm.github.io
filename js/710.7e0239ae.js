"use strict";(self["webpackChunkmeanings_farm"]=self["webpackChunkmeanings_farm"]||[]).push([[710],{6710:(t,e,a)=>{a.r(e),a.d(e,{default:()=>V});var o=a(3673),i=a(2323);const s={class:"WAL bg-grey-3"},n={class:"row items-center no-wrap"},l=(0,o.Uk)("Eng"),r=(0,o.Uk)("Рус"),u={shrink:"",class:"lt-sm q-px-sm q-pb-sm txt-h5 text-right"};function c(t,e,a,c,h,d){const m=(0,o.up)("q-btn"),p=(0,o.up)("q-toolbar-title"),w=(0,o.up)("q-space"),g=(0,o.up)("q-toolbar"),b=(0,o.up)("q-header"),f=(0,o.up)("q-icon"),k=(0,o.up)("q-item-section"),W=(0,o.up)("q-item-label"),v=(0,o.up)("q-item"),_=(0,o.up)("q-list"),C=(0,o.up)("q-scroll-area"),x=(0,o.up)("q-drawer"),y=(0,o.up)("router-view"),q=(0,o.up)("q-page-container"),S=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(S,{view:"hHh Lpr lff",class:"WAL__layout bg-grey-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{elevated:"",class:"bg-grey-3","height-hint":"64"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"text-black",style:{height:"64px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{flat:"",dense:"",round:"",onClick:e[0]||(e[0]=t=>h.miniState=!h.miniState),"aria-label":"Menu",class:"q-mx-md logo"}),(0,o.Wm)(p,{shrink:"",class:"gt-xs row items-center no-wrap"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.$t("project_name")),1)])),_:1}),(0,o.Wm)(w),(0,o._)("div",n,[(0,o.Wm)(m,{flat:"","no-caps":"",onClick:e[1]||(e[1]=t=>c.switchLang("en")),color:c.languageBtnColor("en")},{default:(0,o.w5)((()=>[l])),_:1},8,["color"]),(0,o.Wm)(m,{flat:"","no-caps":"",onClick:e[2]||(e[2]=t=>c.switchLang("ru")),color:c.languageBtnColor("ru")},{default:(0,o.w5)((()=>[r])),_:1},8,["color"])])])),_:1})])),_:1}),(0,o.Wm)(x,{behavior:h.mode,modelValue:h.drawerState,"onUpdate:modelValue":e[3]||(e[3]=t=>h.drawerState=t),mini:h.isMobileMode&&h.miniState,onMouseover:e[4]||(e[4]=t=>h.miniState=!1),onMouseout:e[5]||(e[5]=t=>h.miniState=!0),onClickCapture:d.drawerClick,width:250,"show-if-above":"",bordered:"","content-class":"bg-grey-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{class:"fit"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{padding:"",class:"menu-list"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.links,(e=>((0,o.wg)(),(0,o.j4)(v,{key:e.text,clickable:"",to:d.buildPath(e.path)},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{name:e.icon,color:d.isCurrent(e.path)?"black":"grey"},null,8,["name","color"])])),_:2},1024),(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{class:(0,i.C_)([d.isCurrent(e.path)?"text-black":"text-grey","text-subtitle1"])},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(t.$t(e.text)),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})])),_:1})])),_:1},8,["behavior","modelValue","mini","onClickCapture"]),(0,o.Wm)(q,null,{default:(0,o.w5)((()=>[(0,o._)("div",u,(0,i.zw)(t.$t("project_name")),1),(0,o.Wm)(y)])),_:1})])),_:1})])}var h=a(1959),d=a(9582),m=a(5948);const p=1024,w=1023,g={name:"MainLayout",components:{},props:{lang:{type:String,required:!1}},data(){return{mode:"desktop",drawerState:!0,windowWidth:p,isMobileMode:!1,miniState:!0,links:[{text:"Idea",icon:"las la-dot-circle",path:"/"},{text:"Views",icon:"las la-eye",path:"/views"},{text:"Provocations",icon:"las la-heartbeat",path:"/provocations"},{text:"Stories",icon:"lab la-youtube",path:"/stories"},{text:"Proofs",icon:"las la-search",path:"/proofs"},{text:"Book",icon:"las la-book",path:"/book"},{text:"Team",icon:"las la-user-friends",path:"/team"},{text:"Community",icon:"las la-comments",path:"/community"}],bgTask:void 0}},watch:{windowWidth(t,e){this.updateSize(t)},lang(t,e){this.updateLang()},$route(t,e){this.showBanner()}},setup(t,e){const a=(0,m.QT)(),o=(0,d.yj)(),i=(0,d.tv)(),s=(0,h.qj)({bannerVisible:!1,countPages:0}),n=()=>{(a.locale.value||"").toLowerCase().startsWith("ru")?s.countPages>2?s.bannerVisible=!0:s.countPages+=1:s.bannerVisible=!1},l=t=>(a.locale.value||"").toLowerCase().startsWith(t)?"black":"grey",r=()=>{const e=t.lang||o.query.hl;e&&("string"===typeof e||e instanceof String)&&(a.locale.value===e||"en"!==e&&"ru"!==e||(a.locale.value=e));const i=a.locale.value||"";["en","ru"].includes(i)||(i.startsWith("az")||i.startsWith("tg")||i.startsWith("uk")||i.startsWith("uz")?a.locale.value="ru":a.locale.value="en"),n()},u=t=>{const e=o.path;e.startsWith("/ru")||e.startsWith("/en")?i.push({path:"/"+t+e.substring(3)}):(a.locale.value=t,n())};return{state:s,updateLang:r,switchLang:u,showBanner:n,languageBtnColor:l}},mounted(){this.onResize(),this.$nextTick((()=>{this.onResize(),window.addEventListener("resize",this.onResize)})),this.showBanner()},beforeUnmount(){window.removeEventListener("resize",this.onResize)},methods:{isCurrent(t){let e=this.$router.currentRoute.value.path;return(e.startsWith("/ru")||e.startsWith("/en"))&&(e=e.substring(3)),t===e||t+"/"===e},buildPath(t){return this.lang?"/"+this.lang+t:t},onResize(){this.updateSize((window||{}).innerWidth||p)},updateSize(t){this.windowHeight=t,this.isMobileMode=t<w},goto(t,e){window.open(t,e)},drawerClick(){if(this.isMobileMode){this.bgTask&&clearTimeout(this.bgTask);const t=this;this.bgTask=setTimeout((function(){t.miniState=!0}),2e3)}}}};var b=a(4260),f=a(9214),k=a(3812),W=a(9570),v=a(4607),_=a(3747),C=a(2025),x=a(2901),y=a(7704),q=a(7011),S=a(3414),L=a(2035),Q=a(4554),Z=a(2350),z=a(2652),M=a(5869),T=a(7518),B=a.n(T);const P=(0,b.Z)(g,[["render",c]]),V=P;B()(g,"components",{QLayout:f.Z,QHeader:k.Z,QToolbar:W.Z,QBtn:v.Z,QToolbarTitle:_.Z,QSpace:C.Z,QDrawer:x.Z,QScrollArea:y.Z,QList:q.Z,QItem:S.Z,QItemSection:L.Z,QIcon:Q.Z,QItemLabel:Z.Z,QPageContainer:z.Z,QSeparator:M.Z})}}]);