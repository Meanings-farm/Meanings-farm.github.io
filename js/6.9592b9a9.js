"use strict";(self["webpackChunkmeanings_farm"]=self["webpackChunkmeanings_farm"]||[]).push([[6],{5006:(e,l,t)=>{t.r(l),t.d(l,{default:()=>F});var r=t(3673),i=t(2323);const d={class:"row"},a={class:"q-pa-md",style:{"max-width":"800px"}},o={key:1,class:"vue-nestable-wrapper"};function n(e,l,t,n,u,c){const p=(0,r.up)("q-btn"),g=(0,r.up)("q-space"),s=(0,r.up)("SectionList"),b=(0,r.up)("q-item-section"),h=(0,r.up)("q-item"),m=(0,r.up)("vue-nestable-handle"),I=(0,r.up)("vue-nestable"),x=(0,r.up)("q-page"),y=(0,r.Q2)("ripple");return(0,r.wg)(),(0,r.j4)(x,{class:""},{default:(0,r.w5)((()=>[(0,r._)("div",d,[n.state.editable&&0===(e.children||[]).length?((0,r.wg)(),(0,r.j4)(p,{key:0,flat:"",round:"",icon:"create_new_folder",color:"primary",onClick:n.createList},null,8,["onClick"])):(0,r.kq)("",!0),(0,r.Wm)(g),(0,r.Wm)(p,{flat:"",round:"",icon:"edit",color:n.state.editable?"primary":"secondary",onClick:n.toggleEditable},null,8,["color","onClick"])]),(0,r._)("div",a,["undefined"!=typeof t.groupId?((0,r.wg)(),(0,r.j4)(s,{key:0,listId:n.listId,editable:n.state.editable,relationName:"eng"},null,8,["listId","editable"])):((0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(I,{modelValue:n.groupList,"onUpdate:modelValue":l[0]||(l[0]=e=>n.groupList=e)},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{"v-slot:item":e.item,item:e.item},{default:(0,r.w5)((()=>[0==e.item.children.length?(0,r.wy)(((0,r.wg)(),(0,r.j4)(h,{key:0,clickable:"",to:n.itemLink(e.item.groupId)},{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.item.label),1)])),_:1})])),_:1},8,["to"])),[[y]]):((0,r.wg)(),(0,r.j4)(h,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.item.label),1)])),_:1})])),_:1}))])),_:1},8,["v-slot:item","item"])])),_:1},8,["modelValue"])]))])])),_:1})}var u=t(1959),c=t(2876),p=t(8880);const g=(0,r._)("sup",null,"label:",-1),s=(0,r._)("sup",null,"link:",-1),b={class:"text-grey-8 q-gutter-xs"},h=(0,r.Uk)(" + "),m={class:"row justify-center q-my-md"};function I(e,l,t,d,a,o){const n=(0,r.up)("q-btn"),u=(0,r.up)("q-input"),c=(0,r.up)("q-popup-edit"),I=(0,r.up)("q-markup-table"),x=(0,r.up)("q-item-section"),y=(0,r.up)("q-item"),f=(0,r.up)("FeathersVuexFormWrapper"),k=(0,r.up)("Draggable"),w=(0,r.up)("Pass"),_=(0,r.up)("Container"),v=(0,r.up)("q-spinner-dots"),N=(0,r.up)("q-infinite-scroll"),q=(0,r.Q2)("ripple");return(0,r.wg)(),(0,r.j4)(N,{onLoad:d.loadData,offset:250},{loading:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.Wm)(v,{color:"primary",size:"40px"})])])),default:(0,r.w5)((()=>[(0,r.Wm)(_,{onDrop:o.onDrop},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.state.items,(l=>((0,r.wg)(),(0,r.j4)(w,{key:l._id,label:l[t.relationName]},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{"v-slot:label":e.label},{default:(0,r.w5)((()=>[(0,r._)("div",null,[t.editable?((0,r.wg)(),(0,r.j4)(f,{key:0,item:l,watch:""},{default:(0,r.w5)((({clone:e,save:t})=>[(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(x,null,{default:(0,r.w5)((()=>[(0,r.Wm)(I,{flat:"",bordered:""},{default:(0,r.w5)((()=>[(0,r._)("tbody",null,[(0,r._)("tr",null,[(0,r._)("td",null,[g,(0,r.Uk)(" "+(0,i.zw)(e.eng)+" ",1),(0,r.Wm)(c,{modelValue:e.eng,"onUpdate:modelValue":l=>e.eng=l,onSave:(e,l)=>t()},{default:(0,r.w5)((({initialValue:l,value:t,validate:i,set:d,cancel:a})=>[(0,r.Wm)(u,{modelValue:e.eng,"onUpdate:modelValue":l=>e.eng=l,dense:"",autofocus:""},{before:(0,r.w5)((()=>[(0,r.Wm)(n,{flat:"",dense:"",color:"negative",icon:"cancel",onClick:(0,p.iM)(a,["stop"])},null,8,["onClick"]),(0,r.Wm)(n,{flat:"",dense:"",color:"positive",icon:"check_circle",onClick:(0,p.iM)(d,["stop"]),disable:!1===i(t)||l===t},null,8,["onClick","disable"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])]),(0,r._)("tr",null,[(0,r._)("td",null,[s,(0,r.Uk)(" "+(0,i.zw)(e.link)+" ",1),(0,r.Wm)(c,{modelValue:e.link,"onUpdate:modelValue":l=>e.link=l,onSave:(e,l)=>t()},{default:(0,r.w5)((({initialValue:l,value:t,validate:i,set:d,cancel:a})=>[(0,r.Wm)(u,{modelValue:e.link,"onUpdate:modelValue":l=>e.link=l,dense:"",autofocus:""},{before:(0,r.w5)((()=>[(0,r.Wm)(n,{flat:"",dense:"",color:"negative",icon:"cancel",onClick:(0,p.iM)(a,["stop"])},null,8,["onClick"]),(0,r.Wm)(n,{flat:"",dense:"",color:"positive",icon:"check_circle",onClick:(0,p.iM)(d,["stop"]),disable:!1===i(t)||l===t},null,8,["onClick","disable"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])])])])])),_:2},1024)])),_:2},1024),(0,r.Wm)(x,{top:"",side:""},{default:(0,r.w5)((()=>[(0,r._)("div",b,[(0,r.Wm)(n,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",click:()=>d.deleteRelation(l,e)},null,8,["click"])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["item"])):(0,r.wy)(((0,r.wg)(),(0,r.j4)(y,{key:1,clickable:"",to:l.link},{default:(0,r.w5)((()=>[(0,r.Wm)(x,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.label),1)])),_:1})])),_:2},1032,["to"])),[[q]])])])),_:2},1032,["v-slot:label"])])),_:2},1032,["label"])))),128))])),_:1},8,["onDrop"]),t.editable?(0,r.wy)(((0,r.wg)(),(0,r.j4)(y,{key:0,clickable:"",onClick:l[0]||(l[0]=l=>d.addItem(e.instance))},{default:(0,r.w5)((()=>[(0,r.Wm)(x,null,{default:(0,r.w5)((()=>[h])),_:1})])),_:1},512)),[[q]]):(0,r.kq)("",!0)])),_:1},8,["onLoad"])}t(71);var x=t(9593);const y={render(){return this.$scopedSlots.default(this.$attrs)}},f=(e,l)=>{const{removedIndex:t,addedIndex:r,payload:i}=l;if(null===t&&null===r)return e;const d=[...e];let a=i;return null!==t&&(a=d.splice(t,1)[0]),null!==r&&d.splice(r,0,a),d},k={name:"SectionList",components:{Container:x.W,Draggable:x._,Pass:y},props:{listId:{type:String,required:!0},relationName:{type:String,required:!0},editable:{type:Boolean,required:!1,default:!1}},data:()=>({}),methods:{onDrop(e){const l=this.instance.clone();l.ids=f(l.ids,e),l.save()}},setup(e,l){const{Atom:t,Relation:r,ListV:i}=l.root.$FeathersVuex.api,d=(0,u.qj)({items:[],editable:!1}),a=()=>{d.editable=!d.editable},o=(0,u.Fl)((()=>({lang:["eng","rus"]}))),n=(0,u.Fl)((()=>[(o.value.lang||[])[0]||"eng"])),c=(l,t)=>{i.find({query:{listId:e.listId,$limit:50,$skip:d.items.length}}).then((e=>{const l=(e||{}).data||[];l.forEach((e=>d.items.push(e))),t(0===l.length)}))},p=async e=>{const l=new t({}),r=await l.create(),i=e.clone();i.ids.push(r._id),i.save()},g=(e,l)=>({query:{subject:e,relation:l}}),s=async(e,l)=>{const t=new r({subject:e._id,relation:l,object:""});return await t.create()},b=(e,l)=>{e.clone();const t=e.ids.filter((e=>e===l.subject));console.log("ids",t)};return{user:o,lang:n,state:d,toggleEditable:a,addItem:p,relationParams:g,createRelation:s,deleteRelation:b,loadData:c}}};var w=t(4260),_=t(2729),v=t(3414),N=t(2035),q=t(481),S=t(1289),V=t(7163),W=t(4607),D=t(4765),L=t(6489),U=t(7518),C=t.n(U);const j=(0,w.Z)(k,[["render",I]]),Z=j;C()(k,"components",{QInfiniteScroll:_.Z,QItem:v.Z,QItemSection:N.Z,QMarkupTable:q.Z,QPopupEdit:S.Z,QInput:V.Z,QBtn:W.Z,QSpinnerDots:D.Z}),C()(k,"directives",{Ripple:L.Z});const Q={name:"PageCatalog",components:{VueNestable:c.VueNestable,VueNestableHandle:c.VueNestableHandle,SectionList:Z},props:{language:{type:String,required:!0},catalog:{type:String,required:!0},category:{type:String,required:!0},groupId:{type:String,required:!1}},setup(e,l){const{List:t}=l.root.$FeathersVuex.api,r=(0,u.Fl)((()=>e.language+"."+e.category)),i=async()=>{const e=new t({id:r.value}),l=await e.create();return console.log("createList",l),!0},d=async e=>{},a=(0,u.qj)({editable:!1}),o=()=>{a.editable=!a.editable},n=l=>"/"+[e.language,e.catalog,e.category,l].join("/"),c=[{id:"text-group1",groupId:"c.0*",children:[{id:"text-group2",groupId:"c.0.1*",children:[],label:"Ur III"},{id:"text-group3",groupId:"c.0.2*",children:[],label:"Old Babylonian"}],label:"Ancient literary catalogues"},{id:"text-group4",groupId:"c.1*",children:[{id:"text-group5",groupId:"",children:[{id:"text-group6",groupId:"c.1.1*",children:[],label:"Enki"},{id:"text-group7",groupId:"c.1.2*",children:[],label:"Enlil"},{id:"text-group8",groupId:"c.1.3*",children:[],label:"Inana"},{id:"text-group9",groupId:"c.1.4*",children:[],label:"Inana and Dumuzid"},{id:"text-group10",groupId:"c.1.5*",children:[],label:"Nanna-Suen"},{id:"text-group11",groupId:"c.1.6*",children:[],label:"Ninurta"},{id:"text-group12",groupId:"c.1.7*",children:[],label:"Other deities"}],label:"Narratives featuring deities"},{id:"text-group13",groupId:"",children:[{id:"text-group14",groupId:"c.1.8.1*",children:[],label:"Gilgameš"},{id:"text-group15",groupId:"c.1.8.2*",children:[],label:"Lugalbanda and Enmerkar"}],label:"Narratives featuring heroes"}],label:"Narrative and mythological compositions"},{id:"text-group16",groupId:"",children:[{id:"text-group17",groupId:"c.2.1*",children:[],label:"King lists and other compositions"},{id:"text-group18",groupId:"c.2.2*",children:[],label:"City laments"}],label:"Compositions with a historical background"},{id:"text-group19",groupId:"",children:[{id:"text-group20",groupId:"c.2.3*",children:[{id:"text-group21",groupId:"c.2.3.1*",children:[],label:"Luma"},{id:"text-group22",groupId:"c.2.3.2*",children:[],label:"Gudea"}],label:"Lagaš"},{id:"text-group23",groupId:"c.2.4*",children:[{id:"text-group24",groupId:"c.2.4.1*",children:[],label:"Ur-Namma"},{id:"text-group25",groupId:"c.2.4.2*",children:[],label:"Šulgi"},{id:"text-group26",groupId:"c.2.4.3*",children:[],label:"Amar-Suena"},{id:"text-group27",groupId:"c.2.4.4*",children:[],label:"Šu-Suen"},{id:"text-group28",groupId:"c.2.4.5*",children:[],label:"Ibbi-Suen"}],label:"Third Dynasty of Ur"},{id:"text-group29",groupId:"c.2.5*",children:[{id:"text-group30",groupId:"c.2.5.1*",children:[],label:"Išbi-Erra"},{id:"text-group31",groupId:"c.2.5.2*",children:[],label:"Šu-ilīšu"},{id:"text-group32",groupId:"c.2.5.3*",children:[],label:"Iddin-Dagan"},{id:"text-group33",groupId:"c.2.5.4*",children:[],label:"Išme-Dagan"},{id:"text-group34",groupId:"c.2.5.5*",children:[],label:"Lipit-Eštar"},{id:"text-group35",groupId:"c.2.5.6*",children:[],label:"Ur-Ninurta"},{id:"text-group36",groupId:"c.2.5.7*",children:[],label:"Būr-Suen"},{id:"text-group37",groupId:"c.2.5.8*",children:[],label:"Enlil-bāni"}],label:"Isin Dynasty"},{id:"text-group38",groupId:"c.2.6*",children:[{id:"text-group39",groupId:"c.2.6.2*",children:[],label:"Gungunum"},{id:"text-group40",groupId:"c.2.6.6*",children:[],label:"Sîn-iddinam"},{id:"text-group41",groupId:"c.2.6.7*",children:[],label:"Sîn-iqīšam"},{id:"text-group42",groupId:"c.2.6.9*",children:[],label:"Rīm-Sîn"}],label:"Larsa Dynasty"},{id:"text-group43",groupId:"c.2.7*",children:[{id:"text-group44",groupId:"c.2.7.1*",children:[],label:"Anam"}],label:"Uruk"},{id:"text-group45",groupId:"c.2.8*",children:[{id:"text-group46",groupId:"c.2.8.2*",children:[],label:"Ḫammu-rābi"},{id:"text-group47",groupId:"c.2.8.3*",children:[],label:"Samsu-iluna"},{id:"text-group48",groupId:"c.2.8.5*",children:[],label:"Abī-ešuḫ"}],label:"First Dynasty of Babylon"},{id:"text-group49",groupId:"",children:[{id:"text-group50",groupId:"",children:[{id:"text-group51",groupId:"c.2.8.5.b",children:[],label:"A hymn to Marduk for a king"}],label:"Hymns"},{id:"text-group52",groupId:"",children:[{id:"text-group53",groupId:"c.2.99*",children:[],label:"Fragmentary compositions"}],label:"Fragmentary compositions"}],label:"Praise poetry for unknown rulers"}],label:"Royal praise poetry"},{id:"text-group54",groupId:"c.3*",children:[{id:"text-group55",groupId:"",children:[{id:"text-group56",groupId:"c.3.1*",children:[],label:"Third Dynasty of Ur"},{id:"text-group57",groupId:"c.3.2*",children:[],label:"Isin,  Larsa,  and other dynasties"}],label:"Royal correspondence"},{id:"text-group58",groupId:"c.3.3*",children:[],label:"Other letters and letter-prayers"}],label:"Literary letters and letter-prayers"},{id:"text-group59",groupId:"c.4*",children:[{id:"text-group60",groupId:"c.4.0*",children:[{id:"text-group61",groupId:"c.4.01*",children:[],label:"Asarluḫi"},{id:"text-group62",groupId:"c.4.02*",children:[],label:"Bau"},{id:"text-group63",groupId:"c.4.03*",children:[],label:"Damgalnuna"},{id:"text-group64",groupId:"c.4.05*",children:[],label:"Enlil"},{id:"text-group65",groupId:"c.4.06*",children:[],label:"Ḫendursaĝa"},{id:"text-group66",groupId:"c.4.07*",children:[],label:"Inana"},{id:"text-group67",groupId:"c.4.08*",children:[],label:"Inana and Dumuzid"},{id:"text-group68",groupId:"c.4.12*",children:[],label:"Martu"},{id:"text-group69",groupId:"c.4.13*",children:[],label:"Nanna"},{id:"text-group70",groupId:"c.4.14*",children:[],label:"Nanše"},{id:"text-group71",groupId:"c.4.15*",children:[],label:"Nergal"},{id:"text-group72",groupId:"c.4.17*",children:[],label:"Ninazu"},{id:"text-group73",groupId:"c.4.19*",children:[],label:"Niĝišzida"},{id:"text-group74",groupId:"c.4.21*",children:[],label:"Ninimma"},{id:"text-group75",groupId:"c.4.22*",children:[],label:"Ninisina"},{id:"text-group76",groupId:"c.4.23*",children:[],label:"Ninkasi"},{id:"text-group77",groupId:"c.4.24*",children:[],label:"Ninlil"},{id:"text-group78",groupId:"c.4.25*",children:[],label:"Ninšubur"},{id:"text-group79",groupId:"c.4.26*",children:[],label:"Nintur-Aruru"},{id:"text-group80",groupId:"c.4.27*",children:[],label:"Ninurta"},{id:"text-group81",groupId:"c.4.16*",children:[],label:"Nisaba"},{id:"text-group82",groupId:"c.4.28*",children:[],label:"Nungal"},{id:"text-group83",groupId:"c.4.29*",children:[],label:"Nuska"},{id:"text-group84",groupId:"c.4.30*",children:[],label:"Šara"},{id:"text-group85",groupId:"c.4.31*",children:[],label:"Šul-pa-e"},{id:"text-group86",groupId:"c.4.32*",children:[],label:"Utu"},{id:"text-group87",groupId:"c.4.33*",children:[],label:"Other deities"}],label:"Hymns addressed to deities"},{id:"text-group88",groupId:"c.4.80*",children:[],label:"Hymns addressed to or concerning temples"}],label:"Hymns and cult songs"},{id:"text-group89",groupId:"c.5*",children:[{id:"text-group90",groupId:"c.5.1*",children:[],label:"Scribal life"},{id:"text-group91",groupId:"c.5.3*",children:[],label:"Debate poems"},{id:"text-group92",groupId:"c.5.4*",children:[],label:"Dialogues and diatribes"},{id:"text-group93",groupId:"c.5.5*",children:[],label:"Songs,  elegies and related compositions"},{id:"text-group94",groupId:"c.5.6*",children:[],label:"'Wisdom literature' and other compositions"},{id:"text-group95",groupId:"",children:[{id:"text-group96",groupId:"c.5.2.4",children:[],label:"A man and his god"},{id:"text-group97",groupId:"c.5.2.5",children:[],label:"The poem of early rulers"},{id:"text-group98",groupId:"c.5.7.1",children:[],label:"Enlil and Nam-zid-tara"},{id:"text-group99",groupId:"c.5.7.2",children:[],label:"A dog for Nintinuga"},{id:"text-group100",groupId:"c.5.7.3",children:[],label:"An axe for Nergal"},{id:"text-group101",groupId:"c.5.9.1",children:[],label:"The home of the fish"},{id:"text-group102",groupId:"c.5.9.2",children:[],label:"The heron and the turtle"}],label:"Various compositions"},{id:"text-group103",groupId:"c.6.1*",children:[],label:"Proverb collections"},{id:"text-group104",groupId:"c.6.2*",children:[],label:"Other proverbs"}],label:"Other literature"}];return{state:a,toggleEditable:o,listId:r,createList:i,addItem:d,groupList:c,itemLink:n}}};var E=t(4379),z=t(2025);const A=(0,w.Z)(Q,[["render",n]]),F=A;C()(Q,"components",{QPage:E.Z,QBtn:W.Z,QSpace:z.Z,QItem:v.Z,QItemSection:N.Z}),C()(Q,"directives",{Ripple:L.Z})}}]);